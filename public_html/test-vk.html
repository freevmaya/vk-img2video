<!DOCTYPE html>
<!-- –§–∞–π–ª: test-vk.html -->
<html>
<head>
    <title>Test VK Bridge</title>
    <script src="https://unpkg.com/@vkontakte/vk-bridge/dist/browser.min.js"></script>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .success { color: green; }
        .error { color: red; }
        .info { color: blue; }
    </style>
</head>
<body>
    <h1>VK Bridge Test</h1>
    <div id="status" class="info">Testing VK Bridge...</div>
    <div id="userInfo"></div>
    
    <script>
        const status = document.getElementById('status');
        const userInfo = document.getElementById('userInfo');
        
        async function runTest() {
            // –¢–µ—Å—Ç 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ VK Bridge
            if (typeof vkBridge === 'undefined') {
                status.innerHTML = '<span class="error">‚ùå VK Bridge NOT loaded</span>';
                return;
            }
            
            status.innerHTML = '<span class="success">‚úÖ VK Bridge loaded</span>';
            
            try {
                // –¢–µ—Å—Ç 2: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
                const initResult = await vkBridge.send('VKWebAppInit', {});
                status.innerHTML += '<br><span class="success">‚úÖ VKWebAppInit success</span>';
                
                // –¢–µ—Å—Ç 3: –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                const user = await vkBridge.send('VKWebAppGetUserInfo', {});
                userInfo.innerHTML = `
                    <h2>User Information:</h2>
                    <p><strong>Name:</strong> ${user.first_name} ${user.last_name}</p>
                    <p><strong>ID:</strong> ${user.id}</p>
                    ${user.photo_200 ? `<img src="${user.photo_200}" width="100" style="border-radius:50%;">` : ''}
                `;
                status.innerHTML += `<br><span class="success">‚úÖ User: ${user.first_name} ${user.last_name}</span>`;
                
                // –¢–µ—Å—Ç 4: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã
                const deviceInfo = await vkBridge.send('VKWebAppGetDeviceInfo', {});
                status.innerHTML += `<br><span class="info">üì± Device: ${deviceInfo.device_model}</span>`;
                
            } catch (error) {
                status.innerHTML += `<br><span class="error">‚ùå Error: ${error.message}</span>`;
            }
        }
        
        // –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–µ—Å—Ç
        runTest();
    </script>
</body>
</html>